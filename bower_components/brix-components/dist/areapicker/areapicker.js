define(["jquery","underscore","brix/base","../table/linkage.js","./area.js","./areapicker.tpl.js","components/dialog","css!./areapicker.css"],function($,_,Brix,linkage,Area,template){function AreaPicker(){}return _.extend(AreaPicker.prototype,Brix.prototype,{options:{type:"TIER",data:void 0},init:function(){if(!this.options.data){var text=$.trim(this.element.innerText);this.options.data=eval("(function(){ return Array.prototype.slice.call(arguments)[0] })("+text+")"),this.element.innerText=""}this.options.data={id:"root",name:"全部选择",children:Area.tree(this.options.data||Area.REGION)}},render:function(){var e=this;this.$element=$(this.element);var t=_.template(template)(this.options.data);this.$element.append(t),linkage(this.$element,function(t,i,r){e.trigger("toggle.areapicker",[i,r])})}}),AreaPicker});
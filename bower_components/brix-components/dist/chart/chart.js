define(["jquery","underscore","Chart","brix/base","./chart.tpl.js"],function($,_,Chart,Brix,template){return Brix.extend({options:{TYPES:{line:"Line",bar:"Bar",radar:"Radar",polararea:"PolarArea",pie:"Pie",doughnut:"Doughnut"},type:"Line",width:void 0,height:400},render:function(){this.options.width||(this.options.width=$(this.element).width()),this.options.data||(this.options.data=eval("(function(){ return Array.prototype.slice.call(arguments)[0] })("+this.element.innerText+")"),this.element.innerText="");var html=_.template(template)(this.options),canvas=$(html).appendTo(this.element),context=canvas.get(0).getContext("2d"),type=this.options.TYPES[this.options.type.toLowerCase()];this.chart=new Chart(context)[type](this.options.data,{})}})});
{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///components/areapicker.js","webpack:///webpack/bootstrap 8817455a9b4ad95fbff8","webpack:///./src/areapicker/index.js","webpack:///./src/areapicker/areapicker.js","webpack:///external \"jquery\"","webpack:///external \"underscore\"","webpack:///external \"brix/base\"","webpack:///./src/table/linkage/linkage.js","webpack:///./src/areapicker/area.js","webpack:///./src/areapicker/areapicker.tpl.js","webpack:///external \"components/dialog\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_4__","__WEBPACK_EXTERNAL_MODULE_8__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","$","_","Brix","linkage","Area","template","AreaPicker","extend","prototype","options","type","data","undefined","init","text","trim","element","innerText","eval","name","children","tree","REGION","render","that","$element","html","append","event","values","target","trigger","apply","container","callback","$container","selector","ATTR_NAME","ATTR_PARENT_NAME","_valid","on","currentTarget","$currentTarget","_parent","_children","_siblings","val","$all","find","each","item","$item","attr","$target","parentName","$parent","ATTR_NAME_VALUE","length","$siblings","ATTR_PARENT_NAME_VALUE","$checkboxSiblings","filter","checkboxSiblingsStates","push","indeterminate","checked","$indeterminateSiblings","$radioSiblings","radioSiblingsNames","uniq","map","radioSiblingsStates","siblingsStates","concat","prop","$children","$enabledChildren","not","$checkboxChildren","$radioChildren","radioNames","$radioSameNameChildren","radioSameNameChildrenStates","indexOf","eq","is","siblings","PREFIX","off","checkboxs","value","list","mapped","result","pid","parentId","parent","TIER","IPDATA"],"mappings":"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","file":"components/areapicker.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"), require(\"underscore\"), require(\"brix/base\"), require(\"components/dialog\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\", \"underscore\", \"brix/base\", \"components/dialog\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"components/areapicker\"] = factory(require(\"jquery\"), require(\"underscore\"), require(\"brix/base\"), require(\"components/dialog\"));\n\telse\n\t\troot[\"components/areapicker\"] = factory(root[\"jquery\"], root[\"underscore\"], root[\"brix/base\"], root[\"components/dialog\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_8__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"), require(\"underscore\"), require(\"brix/base\"), require(\"components/dialog\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\", \"underscore\", \"brix/base\", \"components/dialog\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"components/areapicker\"] = factory(require(\"jquery\"), require(\"underscore\"), require(\"brix/base\"), require(\"components/dialog\"));\n\telse\n\t\troot[\"components/areapicker\"] = factory(root[\"jquery\"], root[\"underscore\"], root[\"brix/base\"], root[\"components/dialog\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_8__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1)\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* global define */\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n\t        __webpack_require__(2), __webpack_require__(3),\n\t        __webpack_require__(4), __webpack_require__(5),\n\t        __webpack_require__(6),\n\t        __webpack_require__(7),\n\t        __webpack_require__(8)\n\t    ], __WEBPACK_AMD_DEFINE_RESULT__ = function(\n\t        $, _,\n\t        Brix, linkage,\n\t        Area,\n\t        template\n\t    ) {\n\t\n\t        function AreaPicker() {}\n\t\n\t        _.extend(AreaPicker.prototype, Brix.prototype, {\n\t            options: {\n\t                type: 'TIER', // REGION TIER\n\t                data: undefined\n\t            },\n\t            init: function() {\n\t                // 尝试从 innerText 中解析数据\n\t                /* jshint evil:true */\n\t                if (!this.options.data) {\n\t                    var text = $.trim(this.element.innerText)\n\t                    this.options.data = eval(\n\t                        '(function(){ return Array.prototype.slice.call(arguments)[0] })(' + text + ')'\n\t                    )\n\t                    this.element.innerText = ''\n\t                }\n\t\n\t                this.options.data = {\n\t                    id: 'root',\n\t                    name: '全部选择',\n\t                    children: Area.tree(this.options.data || Area.REGION)\n\t                }\n\t            },\n\t            render: function() {\n\t                var that = this\n\t                this.$element = $(this.element)\n\t\n\t                var html = _.template(template)(this.options.data)\n\t                this.$element.append(html)\n\t\n\t                /* jshint unused:false */\n\t                linkage(this.$element, function(event, values, target) {\n\t                    that.trigger('toggle.areapicker', [values, target])\n\t                })\n\t            }\n\t        })\n\t\n\t        return AreaPicker\n\t    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* global define, console  */\n\t/*\n\t    TODO\n\t        \n\t */\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n\t        __webpack_require__(2), __webpack_require__(3)\n\t    ], __WEBPACK_AMD_DEFINE_RESULT__ = function(\n\t        $, _\n\t    ) {\n\t\n\t        var PREFIX = 'data-linkage-'\n\t        var ATTR_NAME = PREFIX + 'name'\n\t        var ATTR_PARENT_NAME = PREFIX + 'parent-name'\n\t        var ATTR_NAME_VALUE = '[' + ATTR_NAME + '=\"<%= name %>\"]'\n\t        var ATTR_PARENT_NAME_VALUE = '[' + ATTR_PARENT_NAME + '=\"<%= name %>\"]'\n\t\n\t        function linkage(container, callback) {\n\t            var $container = $(container)\n\t            var selector = '[' + ATTR_NAME + '],[' + ATTR_PARENT_NAME + ']'\n\t\n\t            _valid($container, selector)\n\t\n\t            $(container).on('change.linkage', selector, function(event) {\n\t                if (event.target !== event.currentTarget) return\n\t                var $currentTarget = $(event.currentTarget)\n\t                _parent($currentTarget, $container)\n\t                _children($currentTarget, $container)\n\t                _siblings($currentTarget, $container)\n\t\n\t                // _indeterminate($container)\n\t\n\t                if (callback) callback(event, linkage.val(container), event.currentTarget)\n\t            })\n\t\n\t            // _indeterminate($container)\n\t\n\t            return linkage\n\t        }\n\t\n\t        linkage.off = function(container) {\n\t            var $container = $(container)\n\t            var selector = '[' + ATTR_NAME + '],[' + ATTR_PARENT_NAME + ']'\n\t            $container.off('click.linkage', selector)\n\t\n\t            return linkage\n\t        }\n\t\n\t        linkage.val = function(container, values) {\n\t            var $container = $(container)\n\t\n\t            // linkage.val(container, values)\n\t            if (values) {\n\t                var checkboxs = $container.find('input:checkbox, input:radio')\n\t                    .not(':disabled')\n\t                    .prop('checked', false)\n\t                _.each(values, function(item /*, index*/ ) {\n\t                    var $target = checkboxs.filter('[value=\"' + item + '\"]').prop('checked', true)\n\t                    _.each($target, function(item /*, index*/ ) {\n\t                        _parent($(item), $container)\n\t                        _children($(item), $container)\n\t                    })\n\t                })\n\t                return linkage\n\t            }\n\t\n\t            // linkage.val(container)\n\t            values = []\n\t            var checked = $container.find('input:checkbox:checked, input:radio:checked')\n\t            _.each(checked, function(item /*, index*/ ) {\n\t                var value = $(item).attr('value')\n\t                if (value !== undefined && value !== '') values.push(value)\n\t            })\n\t            return values\n\t        }\n\t\n\t        function _valid($container, selector) {\n\t            var $all = $container.find(selector)\n\t            _.each($all, function(item /*, index*/ ) {\n\t                var $item = $(item)\n\t                var name = $item.attr(ATTR_NAME)\n\t                var parentName = $item.attr(ATTR_PARENT_NAME)\n\t                if (name === parentName) {\n\t                    console.warn(\n\t                        new Error(\n\t                            _.template(\n\t                                '<%= a %> and <%= b %> have save value \"<%= value %>\", may cause the Linkage to recursive search. You should avoid this kind of code.'\n\t                            )({\n\t                                a: ATTR_NAME,\n\t                                b: ATTR_PARENT_NAME,\n\t                                value: name\n\t                            })\n\t                        ).stack\n\t                    )\n\t                    console.warn(item)\n\t                }\n\t            })\n\t        }\n\t\n\t        function _parent($target, $container) {\n\t            var name = $target.attr(ATTR_NAME)\n\t            var parentName = $target.attr(ATTR_PARENT_NAME)\n\t\n\t            if (!parentName) return\n\t            if (name === parentName) return\n\t\n\t            var $parent = $container.find(\n\t                _.template(ATTR_NAME_VALUE)({\n\t                    name: parentName\n\t                })\n\t            )\n\t            if (!$parent.length) return\n\t\n\t            var $siblings = $container.find(\n\t                _.template(ATTR_PARENT_NAME_VALUE)({\n\t                    name: parentName\n\t                })\n\t            )\n\t            if (!$siblings.length) return\n\t\n\t            // 复选框\n\t            var $checkboxSiblings = $siblings.filter(':checkbox')\n\t            var checkboxSiblingsStates = []\n\t            _.each($checkboxSiblings, function(item /*, index*/ ) {\n\t                checkboxSiblingsStates.push(\n\t                    item.indeterminate ? false : item.checked\n\t                )\n\t            })\n\t\n\t            // 复选框 半选\n\t            var $indeterminateSiblings = $(\n\t                _.filter($checkboxSiblings, function(item /*, index*/ ) {\n\t                    return item.indeterminate\n\t                })\n\t            )\n\t\n\t            // 单选框\n\t            var $radioSiblings = $siblings.filter(':radio')\n\t            var radioSiblingsNames = _.uniq(\n\t                _.map($radioSiblings, function(item /*, index*/ ) {\n\t                    return $(item).attr('name')\n\t                })\n\t            )\n\t            var radioSiblingsStates = []\n\t            _.each(radioSiblingsNames, function(name /*, index*/ ) {\n\t                if (!name) return\n\t                radioSiblingsStates.push(!!\n\t                    $radioSiblings.filter('[name=\"' + name + '\"]:checked').length\n\t                )\n\t            })\n\t\n\t\n\t            var siblingsStates = _.uniq(\n\t                checkboxSiblingsStates.concat(radioSiblingsStates)\n\t            )\n\t            $parent\n\t                .prop(\n\t                    'indeterminate',\n\t                    $indeterminateSiblings.length ? true :\n\t                    siblingsStates.length === 2 // [ true, false ]\n\t                )\n\t                .prop(\n\t                    'checked',\n\t                    $indeterminateSiblings.length ? false :\n\t                    siblingsStates.length === 1 && siblingsStates[0]\n\t                )\n\t\n\t            _parent($parent, $container)\n\t        }\n\t\n\t        function _children($target, $container) {\n\t            var name = $target.attr(ATTR_NAME)\n\t            var parentName = $target.attr(ATTR_PARENT_NAME)\n\t            var checked = $target.prop('checked')\n\t\n\t            if (!name) return\n\t            if (name === parentName) return\n\t\n\t            var $children = $container.find(\n\t                _.template(ATTR_PARENT_NAME_VALUE)({\n\t                    name: name\n\t                })\n\t            )\n\t            if (!$children.length) return\n\t\n\t            var $enabledChildren = $children.not(':disabled')\n\t            if (!$enabledChildren.length) return\n\t\n\t            var $checkboxChildren = $enabledChildren.filter(':checkbox')\n\t            $checkboxChildren.prop('checked', checked)\n\t\n\t            var $radioChildren = $enabledChildren.filter(':radio')\n\t            if (!checked) $radioChildren.prop('checked', checked)\n\t\n\t            if (checked) {\n\t                var radioNames = _.uniq(\n\t                    _.map($radioChildren, function(item /*, index*/ ) {\n\t                        return $(item).attr('name')\n\t                    })\n\t                )\n\t                _.each(radioNames, function(name /*, index*/ ) {\n\t                    if (!name) return\n\t                    var $radioSameNameChildren = $radioChildren.filter('[name=\"' + name + '\"]')\n\t                    if (!$radioSameNameChildren.length) return\n\t                    var radioSameNameChildrenStates = _.map($radioSameNameChildren, function(item /*, index*/ ) {\n\t                        return $(item).prop('checked')\n\t                    })\n\t                    if (_.indexOf(radioSameNameChildrenStates, checked) !== -1) return\n\t                    else $radioSameNameChildren.eq(0).prop('checked', checked)\n\t                })\n\t            }\n\t\n\t            // $children.not(':disabled').prop('checked', checked)\n\t\n\t            _.each($children, function(item /*, index*/ ) {\n\t                _children($(item), $container)\n\t            })\n\t        }\n\t\n\t        function _siblings($target, $container) {\n\t            if (!$target.is(':radio')) return\n\t\n\t            var name = $target.attr('name')\n\t            var siblings = $container.find('[name=\"' + name + '\"]').not($target)\n\t            _.each(siblings, function(item /*, index*/ ) {\n\t                var $item = $(item)\n\t                _parent($item, $container)\n\t                _children($item, $container)\n\t            })\n\t        }\n\t\n\t        // function _indeterminate($container) {\n\t        //     var $all = $container.find(\n\t        //         '[' + ATTR_NAME + '],' +\n\t        //         '[' + ATTR_PARENT_NAME + ']'\n\t        //     )\n\t        //     var $dink = $(\n\t        //         _.filter($all, function(item /*, index*/ ) {\n\t        //             var $item = $(item)\n\t        //             var name = $item.attr(ATTR_NAME)\n\t        //             var $children = $container.find(\n\t        //                 _.template(ATTR_PARENT_NAME_VALUE)({\n\t        //                     name: name\n\t        //                 })\n\t        //             )\n\t        //             return !$children.length\n\t        //         })\n\t        //     )\n\t        //     _.each($dink, function(item /*, index*/ ) {\n\t        //         _parent($(item), $container)\n\t        //     })\n\t        // }\n\t\n\t        return linkage\n\t    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* global define */\n\t/*\n\tfile:///Users/mo/Downloads/cities.txt\n\t钻展 http://zuanshi.taobao.com/code/all.json?csrfID=142175445941304037227370851158592\n\t淘宝 http://www.taobao.com/home/js/sys/districtselector.js?t=20140318.js\n\tDMP http://dmp.taobao.com/api/tag/4?csrfId=61a1eec37e1398aaf3c6d8&t=1421758479250\n\t国标 省（市）级行政区划码表\n\t\n\t华北   北京市 天津市 河北省 山西省 内蒙古自治区\n\t东北   辽宁省 吉林省 黑龙江省\n\t华东   上海市 江苏省 浙江省 安徽省 福建省 江西省 山东省\n\t华南   广东省 广西壮族自治区 海南省\n\t华中   河南省 湖北省 湖南省\n\t西南   重庆市 四川省 贵州省 云南省 西藏自治区\n\t西北   陕西省 甘肃省 青海省 宁夏回族自治区 新疆维吾尔自治区\n\t港澳台 香港特别行政区 澳门特别行政区 台湾省\n\t\n\t如果后台输出树状结构，隐藏的问题会比较多，比如节点的数据结构不一致（遇到过）、存储子节点的属性要依赖后端、增加层级时后端也需要修改（遇到过）、前端阅读不方便（数据大时 Chrome Dev Tool 里不容易查找）\n\t */\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(3)], __WEBPACK_AMD_DEFINE_RESULT__ = function(_) {\n\t\n\t    var TIER = [\n\t        { id: '一线', name: '一线' },\n\t        { id: '二线', name: '二线' },\n\t        { id: '三线', name: '三线' },\n\t\n\t        { id: 110000, pid: '一线', name: '北京市' },\n\t        { id: 120000, pid: '一线', name: '天津市' },\n\t\n\t        { id: 130000, pid: '二线', name: '河北省' },\n\t        { id: 140000, pid: '二线', name: '山西省' },\n\t\n\t        { id: 150000, pid: '三线', name: '内蒙古自治区' },\n\t        { id: 210000, pid: '三线', name: '辽宁省' },\n\t    ]\n\t\n\t    var REGION = [\n\t        { id: '华北', name: '华北' },\n\t        { id: '东北', name: '东北' },\n\t        { id: '华东', name: '华东' },\n\t        { id: '华南', name: '华南' },\n\t        { id: '华中', name: '华中' },\n\t        { id: '西南', name: '西南' },\n\t        { id: '西北', name: '西北' },\n\t        { id: '港澳台', name: '港澳台' },\n\t\n\t        { id: 110000, pid: '华北', name: '北京市' },\n\t        { id: 120000, pid: '华北', name: '天津市' },\n\t        { id: 130000, pid: '华北', name: '河北省' },\n\t        { id: 140000, pid: '华北', name: '山西省' },\n\t        { id: 150000, pid: '华北', name: '内蒙古自治区' },\n\t\n\t        { id: 210000, pid: '东北', name: '辽宁省' },\n\t        { id: 220000, pid: '东北', name: '吉林省' },\n\t        { id: 230000, pid: '东北', name: '黑龙江省' },\n\t\n\t        { id: 310000, pid: '华东', name: '上海市' },\n\t        { id: 320000, pid: '华东', name: '江苏省' },\n\t        { id: 330000, pid: '华东', name: '浙江省' },\n\t        { id: 340000, pid: '华东', name: '安徽省' },\n\t        { id: 350000, pid: '华东', name: '福建省' },\n\t        { id: 360000, pid: '华东', name: '江西省' },\n\t        { id: 370000, pid: '华东', name: '山东省' },\n\t\n\t        { id: 410000, pid: '华中', name: '河南省' },\n\t        { id: 420000, pid: '华中', name: '湖北省' },\n\t        { id: 430000, pid: '华中', name: '湖南省' },\n\t\n\t        { id: 440000, pid: '华南', name: '广东省' },\n\t        { id: 450000, pid: '华南', name: '广西壮族自治区' },\n\t        { id: 460000, pid: '华南', name: '海南省' },\n\t\n\t        { id: 500000, pid: '西南', name: '重庆市' },\n\t        { id: 510000, pid: '西南', name: '四川省' },\n\t        { id: 520000, pid: '西南', name: '贵州省' },\n\t        { id: 530000, pid: '西南', name: '云南省' },\n\t        { id: 540000, pid: '西南', name: '西藏自治区' },\n\t\n\t        { id: 610000, pid: '西北', name: '陕西省' },\n\t        { id: 620000, pid: '西北', name: '甘肃省' },\n\t        { id: 630000, pid: '西北', name: '青海省' },\n\t        { id: 640000, pid: '西北', name: '宁夏回族自治区' },\n\t        { id: 650000, pid: '西北', name: '新疆维吾尔自治区' },\n\t\n\t        { id: 710000, pid: '港澳台', name: '台湾省' },\n\t        { id: 810000, pid: '港澳台', name: '香港特别行政区' },\n\t        { id: 820000, pid: '港澳台', name: '澳门特别行政区'}\n\t    ]\n\t\n\t    var IPDATA = {}\n\t\n\t    function tree(list) {\n\t        var mapped = {}\n\t        _.each(list, function(item /*, index*/ ) {\n\t            if (!item || !item.id) return\n\t            mapped[item.id] = item\n\t        })\n\t\n\t        var result = []\n\t        _.each(list, function(item /*, index*/ ) {\n\t            if (!item) return\n\t            /* jshint -W041 */\n\t            if (item.pid == undefined && item.parentId == undefined) {\n\t                result.push(item)\n\t                return\n\t            }\n\t            var parent = mapped[item.pid] || mapped[item.parentId]\n\t            if (!parent) return\n\t            if (!parent.children) parent.children = []\n\t            parent.children.push(item)\n\t        })\n\t        return result\n\t    }\n\t\n\t    return {\n\t        REGION: REGION,\n\t        TIER: TIER,\n\t        IPDATA: IPDATA,\n\t        tree: tree\n\t    }\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* global define */\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t    return \"<div class=\\\"areapicker\\\">\\n\" +\n\t        \"    <div class=\\\"areapicker-header dialog-header\\\">\\n\" +\n\t        \"        <h4 class=\\\"areapicker-header-title dialog-title\\\">选择地域</h4>\\n\" +\n\t        \"    </div>\\n\" +\n\t        \"    <div class=\\\"areapicker-body\\\">\\n\" +\n\t        \"        <table class=\\\"table table-bordered\\\">\\n\" +\n\t        \"            <thead>\\n\" +\n\t        \"                <tr>\\n\" +\n\t        \"                    <th>区域</th>\\n\" +\n\t        \"                    <th>\\n\" +\n\t        \"                        <span style=\\\"padding: 17px 0; display: inline-block;\\\">省份/城市</span>\\n\" +\n\t        \"                        <label class=\\\"areapicker-header-toggle\\\" style=\\\"vertical-align: bottom; margin-left: 10px;\\\">\\n\" +\n\t        \"                            <input type=\\\"checkbox\\\" data-linkage-name=\\\"<%= id %>\\\">\\n\" +\n\t        \"                            <%= name %>\\n\" +\n\t        \"                        </label>\\n\" +\n\t        \"                    </th>\\n\" +\n\t        \"                </tr>\\n\" +\n\t        \"            </thead>\\n\" +\n\t        \"            <tbody>\\n\" +\n\t        \"                <% for ( var i = 0; i < children.length; i++ ) { %>\\n\" +\n\t        \"                <tr>\\n\" +\n\t        \"                    <td width=\\\"100\\\">\\n\" +\n\t        \"                        <label>\\n\" +\n\t        \"                            <input type=\\\"checkbox\\\" \\n\" +\n\t        \"                                value=\\\"<%= children[i].id %>\\\"\\n\" +\n\t        \"                                data-linkage-name=\\\"<%= children[i].id %>\\\"\\n\" +\n\t        \"                                data-linkage-parent-name=\\\"<%= id %>\\\">\\n\" +\n\t        \"                            <%= children[i].name %>\\n\" +\n\t        \"                        </label>\\n\" +\n\t        \"                    </td>\\n\" +\n\t        \"                    <td>\\n\" +\n\t        \"                        <% for ( var ii = 0; ii < children[i].children.length; ii++ ) { %>\\n\" +\n\t        \"                        <label>\\n\" +\n\t        \"                            <input type=\\\"checkbox\\\" \\n\" +\n\t        \"                                value=\\\"<%= children[i].children[ii].id %>\\\"\\n\" +\n\t        \"                                data-linkage-name=\\\"<%= children[i].children[ii].id %>\\\" \\n\" +\n\t        \"                                data-linkage-parent-name=\\\"<%= children[i].id %>\\\">\\n\" +\n\t        \"                            <%= children[i].children[ii].name %>\\n\" +\n\t        \"                        </label>\\n\" +\n\t        \"                        <% } %>\\n\" +\n\t        \"                    </td>\\n\" +\n\t        \"                </tr>\\n\" +\n\t        \"                <% } %>\\n\" +\n\t        \"            </tbody>\\n\" +\n\t        \"        </table>\\n\" +\n\t        \"    </div>\\n\" +\n\t        \"</div>\"\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** components/areapicker.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8817455a9b4ad95fbff8\n **/","module.exports = require('./areapicker')\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/areapicker/index.js\n ** module id = 0\n ** module chunks = 0\n **/","/* global define */\ndefine(\n    [\n        'jquery', 'underscore',\n        'brix/base', '../table/linkage/linkage.js',\n        './area.js',\n        './areapicker.tpl.js',\n        'components/dialog'\n    ],\n    function(\n        $, _,\n        Brix, linkage,\n        Area,\n        template\n    ) {\n\n        function AreaPicker() {}\n\n        _.extend(AreaPicker.prototype, Brix.prototype, {\n            options: {\n                type: 'TIER', // REGION TIER\n                data: undefined\n            },\n            init: function() {\n                // 尝试从 innerText 中解析数据\n                /* jshint evil:true */\n                if (!this.options.data) {\n                    var text = $.trim(this.element.innerText)\n                    this.options.data = eval(\n                        '(function(){ return Array.prototype.slice.call(arguments)[0] })(' + text + ')'\n                    )\n                    this.element.innerText = ''\n                }\n\n                this.options.data = {\n                    id: 'root',\n                    name: '全部选择',\n                    children: Area.tree(this.options.data || Area.REGION)\n                }\n            },\n            render: function() {\n                var that = this\n                this.$element = $(this.element)\n\n                var html = _.template(template)(this.options.data)\n                this.$element.append(html)\n\n                /* jshint unused:false */\n                linkage(this.$element, function(event, values, target) {\n                    that.trigger('toggle.areapicker', [values, target])\n                })\n            }\n        })\n\n        return AreaPicker\n    }\n)\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/areapicker/areapicker.js\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jquery\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"underscore\"\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"brix/base\"\n ** module id = 4\n ** module chunks = 0\n **/","/* global define, console  */\n/*\n    TODO\n        \n */\ndefine(\n    [\n        'jquery', 'underscore'\n    ],\n    function(\n        $, _\n    ) {\n\n        var PREFIX = 'data-linkage-'\n        var ATTR_NAME = PREFIX + 'name'\n        var ATTR_PARENT_NAME = PREFIX + 'parent-name'\n        var ATTR_NAME_VALUE = '[' + ATTR_NAME + '=\"<%= name %>\"]'\n        var ATTR_PARENT_NAME_VALUE = '[' + ATTR_PARENT_NAME + '=\"<%= name %>\"]'\n\n        function linkage(container, callback) {\n            var $container = $(container)\n            var selector = '[' + ATTR_NAME + '],[' + ATTR_PARENT_NAME + ']'\n\n            _valid($container, selector)\n\n            $(container).on('change.linkage', selector, function(event) {\n                if (event.target !== event.currentTarget) return\n                var $currentTarget = $(event.currentTarget)\n                _parent($currentTarget, $container)\n                _children($currentTarget, $container)\n                _siblings($currentTarget, $container)\n\n                // _indeterminate($container)\n\n                if (callback) callback(event, linkage.val(container), event.currentTarget)\n            })\n\n            // _indeterminate($container)\n\n            return linkage\n        }\n\n        linkage.off = function(container) {\n            var $container = $(container)\n            var selector = '[' + ATTR_NAME + '],[' + ATTR_PARENT_NAME + ']'\n            $container.off('click.linkage', selector)\n\n            return linkage\n        }\n\n        linkage.val = function(container, values) {\n            var $container = $(container)\n\n            // linkage.val(container, values)\n            if (values) {\n                var checkboxs = $container.find('input:checkbox, input:radio')\n                    .not(':disabled')\n                    .prop('checked', false)\n                _.each(values, function(item /*, index*/ ) {\n                    var $target = checkboxs.filter('[value=\"' + item + '\"]').prop('checked', true)\n                    _.each($target, function(item /*, index*/ ) {\n                        _parent($(item), $container)\n                        _children($(item), $container)\n                    })\n                })\n                return linkage\n            }\n\n            // linkage.val(container)\n            values = []\n            var checked = $container.find('input:checkbox:checked, input:radio:checked')\n            _.each(checked, function(item /*, index*/ ) {\n                var value = $(item).attr('value')\n                if (value !== undefined && value !== '') values.push(value)\n            })\n            return values\n        }\n\n        function _valid($container, selector) {\n            var $all = $container.find(selector)\n            _.each($all, function(item /*, index*/ ) {\n                var $item = $(item)\n                var name = $item.attr(ATTR_NAME)\n                var parentName = $item.attr(ATTR_PARENT_NAME)\n                if (name === parentName) {\n                    console.warn(\n                        new Error(\n                            _.template(\n                                '<%= a %> and <%= b %> have save value \"<%= value %>\", may cause the Linkage to recursive search. You should avoid this kind of code.'\n                            )({\n                                a: ATTR_NAME,\n                                b: ATTR_PARENT_NAME,\n                                value: name\n                            })\n                        ).stack\n                    )\n                    console.warn(item)\n                }\n            })\n        }\n\n        function _parent($target, $container) {\n            var name = $target.attr(ATTR_NAME)\n            var parentName = $target.attr(ATTR_PARENT_NAME)\n\n            if (!parentName) return\n            if (name === parentName) return\n\n            var $parent = $container.find(\n                _.template(ATTR_NAME_VALUE)({\n                    name: parentName\n                })\n            )\n            if (!$parent.length) return\n\n            var $siblings = $container.find(\n                _.template(ATTR_PARENT_NAME_VALUE)({\n                    name: parentName\n                })\n            )\n            if (!$siblings.length) return\n\n            // 复选框\n            var $checkboxSiblings = $siblings.filter(':checkbox')\n            var checkboxSiblingsStates = []\n            _.each($checkboxSiblings, function(item /*, index*/ ) {\n                checkboxSiblingsStates.push(\n                    item.indeterminate ? false : item.checked\n                )\n            })\n\n            // 复选框 半选\n            var $indeterminateSiblings = $(\n                _.filter($checkboxSiblings, function(item /*, index*/ ) {\n                    return item.indeterminate\n                })\n            )\n\n            // 单选框\n            var $radioSiblings = $siblings.filter(':radio')\n            var radioSiblingsNames = _.uniq(\n                _.map($radioSiblings, function(item /*, index*/ ) {\n                    return $(item).attr('name')\n                })\n            )\n            var radioSiblingsStates = []\n            _.each(radioSiblingsNames, function(name /*, index*/ ) {\n                if (!name) return\n                radioSiblingsStates.push(!!\n                    $radioSiblings.filter('[name=\"' + name + '\"]:checked').length\n                )\n            })\n\n\n            var siblingsStates = _.uniq(\n                checkboxSiblingsStates.concat(radioSiblingsStates)\n            )\n            $parent\n                .prop(\n                    'indeterminate',\n                    $indeterminateSiblings.length ? true :\n                    siblingsStates.length === 2 // [ true, false ]\n                )\n                .prop(\n                    'checked',\n                    $indeterminateSiblings.length ? false :\n                    siblingsStates.length === 1 && siblingsStates[0]\n                )\n\n            _parent($parent, $container)\n        }\n\n        function _children($target, $container) {\n            var name = $target.attr(ATTR_NAME)\n            var parentName = $target.attr(ATTR_PARENT_NAME)\n            var checked = $target.prop('checked')\n\n            if (!name) return\n            if (name === parentName) return\n\n            var $children = $container.find(\n                _.template(ATTR_PARENT_NAME_VALUE)({\n                    name: name\n                })\n            )\n            if (!$children.length) return\n\n            var $enabledChildren = $children.not(':disabled')\n            if (!$enabledChildren.length) return\n\n            var $checkboxChildren = $enabledChildren.filter(':checkbox')\n            $checkboxChildren.prop('checked', checked)\n\n            var $radioChildren = $enabledChildren.filter(':radio')\n            if (!checked) $radioChildren.prop('checked', checked)\n\n            if (checked) {\n                var radioNames = _.uniq(\n                    _.map($radioChildren, function(item /*, index*/ ) {\n                        return $(item).attr('name')\n                    })\n                )\n                _.each(radioNames, function(name /*, index*/ ) {\n                    if (!name) return\n                    var $radioSameNameChildren = $radioChildren.filter('[name=\"' + name + '\"]')\n                    if (!$radioSameNameChildren.length) return\n                    var radioSameNameChildrenStates = _.map($radioSameNameChildren, function(item /*, index*/ ) {\n                        return $(item).prop('checked')\n                    })\n                    if (_.indexOf(radioSameNameChildrenStates, checked) !== -1) return\n                    else $radioSameNameChildren.eq(0).prop('checked', checked)\n                })\n            }\n\n            // $children.not(':disabled').prop('checked', checked)\n\n            _.each($children, function(item /*, index*/ ) {\n                _children($(item), $container)\n            })\n        }\n\n        function _siblings($target, $container) {\n            if (!$target.is(':radio')) return\n\n            var name = $target.attr('name')\n            var siblings = $container.find('[name=\"' + name + '\"]').not($target)\n            _.each(siblings, function(item /*, index*/ ) {\n                var $item = $(item)\n                _parent($item, $container)\n                _children($item, $container)\n            })\n        }\n\n        // function _indeterminate($container) {\n        //     var $all = $container.find(\n        //         '[' + ATTR_NAME + '],' +\n        //         '[' + ATTR_PARENT_NAME + ']'\n        //     )\n        //     var $dink = $(\n        //         _.filter($all, function(item /*, index*/ ) {\n        //             var $item = $(item)\n        //             var name = $item.attr(ATTR_NAME)\n        //             var $children = $container.find(\n        //                 _.template(ATTR_PARENT_NAME_VALUE)({\n        //                     name: name\n        //                 })\n        //             )\n        //             return !$children.length\n        //         })\n        //     )\n        //     _.each($dink, function(item /*, index*/ ) {\n        //         _parent($(item), $container)\n        //     })\n        // }\n\n        return linkage\n    }\n)\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/table/linkage/linkage.js\n ** module id = 5\n ** module chunks = 0\n **/","/* global define */\n/*\nfile:///Users/mo/Downloads/cities.txt\n钻展 http://zuanshi.taobao.com/code/all.json?csrfID=142175445941304037227370851158592\n淘宝 http://www.taobao.com/home/js/sys/districtselector.js?t=20140318.js\nDMP http://dmp.taobao.com/api/tag/4?csrfId=61a1eec37e1398aaf3c6d8&t=1421758479250\n国标 省（市）级行政区划码表\n\n华北   北京市 天津市 河北省 山西省 内蒙古自治区\n东北   辽宁省 吉林省 黑龙江省\n华东   上海市 江苏省 浙江省 安徽省 福建省 江西省 山东省\n华南   广东省 广西壮族自治区 海南省\n华中   河南省 湖北省 湖南省\n西南   重庆市 四川省 贵州省 云南省 西藏自治区\n西北   陕西省 甘肃省 青海省 宁夏回族自治区 新疆维吾尔自治区\n港澳台 香港特别行政区 澳门特别行政区 台湾省\n\n如果后台输出树状结构，隐藏的问题会比较多，比如节点的数据结构不一致（遇到过）、存储子节点的属性要依赖后端、增加层级时后端也需要修改（遇到过）、前端阅读不方便（数据大时 Chrome Dev Tool 里不容易查找）\n */\ndefine(['underscore'], function(_) {\n\n    var TIER = [\n        { id: '一线', name: '一线' },\n        { id: '二线', name: '二线' },\n        { id: '三线', name: '三线' },\n\n        { id: 110000, pid: '一线', name: '北京市' },\n        { id: 120000, pid: '一线', name: '天津市' },\n\n        { id: 130000, pid: '二线', name: '河北省' },\n        { id: 140000, pid: '二线', name: '山西省' },\n\n        { id: 150000, pid: '三线', name: '内蒙古自治区' },\n        { id: 210000, pid: '三线', name: '辽宁省' },\n    ]\n\n    var REGION = [\n        { id: '华北', name: '华北' },\n        { id: '东北', name: '东北' },\n        { id: '华东', name: '华东' },\n        { id: '华南', name: '华南' },\n        { id: '华中', name: '华中' },\n        { id: '西南', name: '西南' },\n        { id: '西北', name: '西北' },\n        { id: '港澳台', name: '港澳台' },\n\n        { id: 110000, pid: '华北', name: '北京市' },\n        { id: 120000, pid: '华北', name: '天津市' },\n        { id: 130000, pid: '华北', name: '河北省' },\n        { id: 140000, pid: '华北', name: '山西省' },\n        { id: 150000, pid: '华北', name: '内蒙古自治区' },\n\n        { id: 210000, pid: '东北', name: '辽宁省' },\n        { id: 220000, pid: '东北', name: '吉林省' },\n        { id: 230000, pid: '东北', name: '黑龙江省' },\n\n        { id: 310000, pid: '华东', name: '上海市' },\n        { id: 320000, pid: '华东', name: '江苏省' },\n        { id: 330000, pid: '华东', name: '浙江省' },\n        { id: 340000, pid: '华东', name: '安徽省' },\n        { id: 350000, pid: '华东', name: '福建省' },\n        { id: 360000, pid: '华东', name: '江西省' },\n        { id: 370000, pid: '华东', name: '山东省' },\n\n        { id: 410000, pid: '华中', name: '河南省' },\n        { id: 420000, pid: '华中', name: '湖北省' },\n        { id: 430000, pid: '华中', name: '湖南省' },\n\n        { id: 440000, pid: '华南', name: '广东省' },\n        { id: 450000, pid: '华南', name: '广西壮族自治区' },\n        { id: 460000, pid: '华南', name: '海南省' },\n\n        { id: 500000, pid: '西南', name: '重庆市' },\n        { id: 510000, pid: '西南', name: '四川省' },\n        { id: 520000, pid: '西南', name: '贵州省' },\n        { id: 530000, pid: '西南', name: '云南省' },\n        { id: 540000, pid: '西南', name: '西藏自治区' },\n\n        { id: 610000, pid: '西北', name: '陕西省' },\n        { id: 620000, pid: '西北', name: '甘肃省' },\n        { id: 630000, pid: '西北', name: '青海省' },\n        { id: 640000, pid: '西北', name: '宁夏回族自治区' },\n        { id: 650000, pid: '西北', name: '新疆维吾尔自治区' },\n\n        { id: 710000, pid: '港澳台', name: '台湾省' },\n        { id: 810000, pid: '港澳台', name: '香港特别行政区' },\n        { id: 820000, pid: '港澳台', name: '澳门特别行政区'}\n    ]\n\n    var IPDATA = {}\n\n    function tree(list) {\n        var mapped = {}\n        _.each(list, function(item /*, index*/ ) {\n            if (!item || !item.id) return\n            mapped[item.id] = item\n        })\n\n        var result = []\n        _.each(list, function(item /*, index*/ ) {\n            if (!item) return\n            /* jshint -W041 */\n            if (item.pid == undefined && item.parentId == undefined) {\n                result.push(item)\n                return\n            }\n            var parent = mapped[item.pid] || mapped[item.parentId]\n            if (!parent) return\n            if (!parent.children) parent.children = []\n            parent.children.push(item)\n        })\n        return result\n    }\n\n    return {\n        REGION: REGION,\n        TIER: TIER,\n        IPDATA: IPDATA,\n        tree: tree\n    }\n})\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/areapicker/area.js\n ** module id = 6\n ** module chunks = 0\n **/","/* global define */\ndefine(function() {\n    return \"<div class=\\\"areapicker\\\">\\n\" +\n        \"    <div class=\\\"areapicker-header dialog-header\\\">\\n\" +\n        \"        <h4 class=\\\"areapicker-header-title dialog-title\\\">选择地域</h4>\\n\" +\n        \"    </div>\\n\" +\n        \"    <div class=\\\"areapicker-body\\\">\\n\" +\n        \"        <table class=\\\"table table-bordered\\\">\\n\" +\n        \"            <thead>\\n\" +\n        \"                <tr>\\n\" +\n        \"                    <th>区域</th>\\n\" +\n        \"                    <th>\\n\" +\n        \"                        <span style=\\\"padding: 17px 0; display: inline-block;\\\">省份/城市</span>\\n\" +\n        \"                        <label class=\\\"areapicker-header-toggle\\\" style=\\\"vertical-align: bottom; margin-left: 10px;\\\">\\n\" +\n        \"                            <input type=\\\"checkbox\\\" data-linkage-name=\\\"<%= id %>\\\">\\n\" +\n        \"                            <%= name %>\\n\" +\n        \"                        </label>\\n\" +\n        \"                    </th>\\n\" +\n        \"                </tr>\\n\" +\n        \"            </thead>\\n\" +\n        \"            <tbody>\\n\" +\n        \"                <% for ( var i = 0; i < children.length; i++ ) { %>\\n\" +\n        \"                <tr>\\n\" +\n        \"                    <td width=\\\"100\\\">\\n\" +\n        \"                        <label>\\n\" +\n        \"                            <input type=\\\"checkbox\\\" \\n\" +\n        \"                                value=\\\"<%= children[i].id %>\\\"\\n\" +\n        \"                                data-linkage-name=\\\"<%= children[i].id %>\\\"\\n\" +\n        \"                                data-linkage-parent-name=\\\"<%= id %>\\\">\\n\" +\n        \"                            <%= children[i].name %>\\n\" +\n        \"                        </label>\\n\" +\n        \"                    </td>\\n\" +\n        \"                    <td>\\n\" +\n        \"                        <% for ( var ii = 0; ii < children[i].children.length; ii++ ) { %>\\n\" +\n        \"                        <label>\\n\" +\n        \"                            <input type=\\\"checkbox\\\" \\n\" +\n        \"                                value=\\\"<%= children[i].children[ii].id %>\\\"\\n\" +\n        \"                                data-linkage-name=\\\"<%= children[i].children[ii].id %>\\\" \\n\" +\n        \"                                data-linkage-parent-name=\\\"<%= children[i].id %>\\\">\\n\" +\n        \"                            <%= children[i].children[ii].name %>\\n\" +\n        \"                        </label>\\n\" +\n        \"                        <% } %>\\n\" +\n        \"                    </td>\\n\" +\n        \"                </tr>\\n\" +\n        \"                <% } %>\\n\" +\n        \"            </tbody>\\n\" +\n        \"        </table>\\n\" +\n        \"    </div>\\n\" +\n        \"</div>\"\n})\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/areapicker/areapicker.tpl.js\n ** module id = 7\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"components/dialog\"\n ** module id = 8\n ** module chunks = 0\n **/"],"sourceRoot":""}
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery"),require("underscore"),require("brix/base")):"function"==typeof define&&define.amd?define(["jquery","underscore","brix/base"],e):"object"==typeof exports?exports["components/popover"]=e(require("jquery"),require("underscore"),require("brix/base")):t["components/popover"]=e(t.jquery,t.underscore,t["brix/base"])}(this,function(t,e,o){return function(t){function e(i){if(o[i])return o[i].exports;var r=o[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){t.exports=o(1)},function(t,e,o){var i,r;i=[o(2),o(3),o(4),o(5),o(6)],r=function(t,e,o,i,r){function n(){}function s(e,o,i,r){var n,s,p=t(e),c=p.offset(),h=c.left,f=c.top,u=p.outerWidth(),d=p.outerHeight(),m=t(o).show(),v=m.outerWidth(),b=m.outerHeight(),w=t(o).find(".arrow"),g=w.outerWidth(),x=w.outerHeight();if(l.test(i)!==l.test(r)&&a.test(i)!==a.test(r))switch(r){case"top":case"bottom":b>d&&(s=f+d/2-x/2);break;case"left":case"right":v>u&&(n=h+u/2-g/2)}return{left:n,top:s}}e.extend(n.prototype,o.prototype,{options:{placement:"right",align:"",offset:{},width:"auto",title:"",content:"",delay:100},init:function(){this.options.css&&window.require(["css!"+this.options.css])},render:function(){var o=this;this.$element=t(this.element),this.$relatedElement=t(e.template(this.options.template||r)(this.options)).insertAfter(this.$element),this.$element.hover(function(){o.show()},function(){o.hide()}),o.$relatedElement.hover(function(){clearTimeout(o._timer)},function(){clearTimeout(o._timer),o.$relatedElement.hide()})},show:function(){clearTimeout(this._timer),this.$relatedElement.show().css({width:this.options.width,"max-width":this.options.width});var t=i(this.$element,this.$relatedElement,this.options.placement,this.options.align),e=parseInt(this.$relatedElement.css("margin-left"),10)||0,o=parseInt(this.$relatedElement.css("margin-top"),10)||0;if(this.$relatedElement.offset({left:t.left+e+(this.options.offset.left||0),top:t.top+o+(this.options.offset.top||0)}),this.options.align){var r=this.$relatedElement.find(".arrow");r.is(":visible")&&r.offset(s(this.$element,this.$relatedElement,this.options.placement,this.options.align))}},hide:function(){var t=this;clearTimeout(this._timer),this._timer=setTimeout(function(){t.$relatedElement.hide()},this.options.delay)},title:function(t){return void 0===t||null===t?this.options.title:(this.options.title=t,this.$relatedElement.find(".popover-title").html(t),this)},content:function(t){return void 0===t||null===t?this.options.content:(this.options.content=t,this.$relatedElement.find(".popover-content").html(t),this)},destroy:function(){this.$element.off("mouseenter mouseleave"),this.$relatedElement.off("mouseenter mouseleave").remove()}});var l=/top|bottom/,a=/left|right/;return n}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(e,o){e.exports=t},function(t,o){t.exports=e},function(t,e){t.exports=o},function(t,e,o){var i,r;i=[o(2)],r=function(t){function e(e,i,r,l){var a=t(e);if(!a.length)return o(i);var p=a.offset(),c=p.left,h=p.top,f=a.outerWidth(),u=a.outerHeight(),d=t(i),m="none"!==d.css("display");d.show();var v=d.outerWidth(),b=d.outerHeight();m||d.hide();var w,g,x=f/2-v/2,y=u/2-b/2;switch(r){case"top":w=c+x,g=h-b;break;case"bottom":w=c+x,g=h+u;break;case"left":w=c-v,g=h+y;break;case"right":w=c+f,g=h+y}if(n.test(r)!==n.test(l)&&s.test(r)!==s.test(l))switch(l){case"top":g=h;break;case"bottom":g=h+u-b;break;case"left":w=c;break;case"right":w=c+f-v}return{left:w,top:g}}function o(e,o){var i,r;if(o)i=parseFloat(e,12),r=parseFloat(o,12);else{var n=t(e),s="none"!==n.css("display");n.show(),i=n.outerWidth(),r=n.outerHeight(),s||n.hide()}var l=t(window),a=l.width(),p=l.height(),c=l.scrollLeft(),h=l.scrollTop();return{left:a/2-i/2+c,top:p/2-r/2+h}}function i(e,o,i){var r=t(e),n="none"!==r.css("display");r.show();var s=r.outerWidth(),l=r.outerHeight();n||r.hide();var a={opacity:0,left:o.left,top:o.top};switch(i){case"top":a.top=a.top-.5*l;break;case"bottom":a.top=a.top+.5*l;break;case"left":a.left=a.left-.5*s;break;case"right":default:a.left=a.left+.5*s}return a}function r(t,e){return{opacity:1,left:e.left,top:e.top}}var n=/top|bottom/,s=/left|right/;return e.center=o,e.start=i,e.end=r,e}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,o){var i;i=function(){return'<div class="popover <%= placement %>">\n    <div class="arrow"></div>\n    <div class="popover-title <%= title ? \'\' : \'hide\' %>"><%= title %></div>\n    <div class="popover-content"><%= content %></div>\n</div>'}.call(e,o,e,t),!(void 0!==i&&(t.exports=i))}])});
//# sourceMappingURL=popover.js.map
define(["jquery"],function(t){function e(e,r,a,c){var f=t(e);if(!f.length)return o(r);var l=f.offset(),n=l.left,h=l.top,p=f.outerWidth(),u=f.outerHeight(),d=t(r),b="none"!==d.css("display");d.show();var v=d.outerWidth(),g=d.outerHeight();b||d.hide();var k,w,y=p/2-v/2,m=u/2-g/2;switch(a){case"top":k=n+y,w=h-g;break;case"bottom":k=n+y,w=h+u;break;case"left":k=n-v,w=h+m;break;case"right":k=n+p,w=h+m}if(s.test(a)!==s.test(c)&&i.test(a)!==i.test(c))switch(c){case"top":w=h;break;case"bottom":w=h+u-g;break;case"left":k=n;break;case"right":k=n+p-v}return{left:k,top:w}}function o(e,o){var r,a;if(o)r=parseFloat(e,12),a=parseFloat(o,12);else{var s=t(e),i="none"!==s.css("display");s.show(),r=s.outerWidth(),a=s.outerHeight(),i||s.hide()}var c=t(window),f=c.width(),l=c.height(),n=c.scrollLeft(),h=c.scrollTop();return{left:f/2-r/2+n,top:l/2-a/2+h}}function r(e,o,r){var a=t(e),s="none"!==a.css("display");a.show();var i=a.outerWidth(),c=a.outerHeight();s||a.hide();var f={opacity:0,left:o.left,top:o.top};switch(r){case"top":f.top=f.top-.5*c;break;case"bottom":f.top=f.top+.5*c;break;case"left":f.left=f.left-.5*i;break;case"right":default:f.left=f.left+.5*i}return f}function a(t,e){return{opacity:1,left:e.left,top:e.top}}var s=/top|bottom/,i=/left|right/;return e.center=o,e.start=r,e.end=a,e});